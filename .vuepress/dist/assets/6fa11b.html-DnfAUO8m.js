import{_ as s,c as a,e,o as t}from"./app-DVyU65El.js";const p={};function o(c,n){return t(),a("div",null,n[0]||(n[0]=[e(`<blockquote><p>将此代码放入mmdetection的根目录下执行，替换相应的路径即可</p></blockquote><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> os</span>
<span class="line"></span>
<span class="line"><span class="token keyword">from</span> mmdet<span class="token punctuation">.</span>apis <span class="token keyword">import</span> init_detector<span class="token punctuation">,</span> inference_detector</span>
<span class="line"></span>
<span class="line">config_file <span class="token operator">=</span> <span class="token string">&#39;/home/lgh/Desktop/ours/config.py&#39;</span></span>
<span class="line">checkpoint_file <span class="token operator">=</span> <span class="token string">&#39;/home/lgh/Desktop/ours/best.pth&#39;</span></span>
<span class="line">device <span class="token operator">=</span> <span class="token string">&#39;cuda:0&#39;</span></span>
<span class="line">model <span class="token operator">=</span> init_detector<span class="token punctuation">(</span>config_file<span class="token punctuation">,</span> checkpoint_file<span class="token punctuation">,</span> device<span class="token operator">=</span>device<span class="token punctuation">)</span></span>
<span class="line">imgPath <span class="token operator">=</span> <span class="token string">&#39;/home/lgh/code/mmdetection/data/NEU_DET/coco/train2017&#39;</span></span>
<span class="line">imgList <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>imgPath<span class="token punctuation">)</span></span>
<span class="line">outPath <span class="token operator">=</span> <span class="token string">&#39;/home/lgh/code/mmdetection/data/NEU_DET/coco/out&#39;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>outPath<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>outPath<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">for</span> img <span class="token keyword">in</span> imgList<span class="token punctuation">:</span></span>
<span class="line">    image <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>imgPath<span class="token punctuation">,</span>img<span class="token punctuation">)</span></span>
<span class="line">    model<span class="token punctuation">.</span>show_result<span class="token punctuation">(</span></span>
<span class="line">        image<span class="token punctuation">,</span></span>
<span class="line">        inference_detector<span class="token punctuation">(</span>model<span class="token punctuation">,</span> image<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        score_thr<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">,</span></span>
<span class="line">        show<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span></span>
<span class="line">        wait_time<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">        win_name<span class="token operator">=</span><span class="token string">&quot;result&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        bbox_color<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        text_color<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        mask_color<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span></span>
<span class="line">        out_file<span class="token operator">=</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>outPath<span class="token punctuation">,</span> img<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2)]))}const l=s(p,[["render",o],["__file","6fa11b.html.vue"]]),u=JSON.parse('{"path":"/pages/6fa11b.html","title":"mmdetection结果可视化","lang":"en-US","frontmatter":{"title":"mmdetection结果可视化","date":"2022/05/12","permalink":"/pages/6fa11b.html","categories":["mmdetection"],"tags":["mmdetection"]},"headers":[],"git":{"createdTime":1732191603000,"updatedTime":1732191603000,"contributors":[{"name":"Ghlerrix","email":"Ghlerrix@outlook.com","commits":1}]},"filePathRelative":"blogs/mmdetection/mmdetection结果可视化.md"}');export{l as comp,u as data};
